# 画像変換ツール
## 概要

jpegなどをwebPやAVIFに変換するGUIツールです。~~今は1つ1つしか変換できないですが、将来的にバッチで変換可能にする予定です。~~対応しました。バッチ処理可能です。

## リポジトリ構成

```
WP_CM_blog_support_tool/
├── README.md                     … このドキュメント。ツールの概要と使い方をまとめています。
├── idea2.py                      … PyQt6 で実装されたメインアプリケーション。GUI や変換処理のロジックが含まれます。
└── image_converter_settings.json … 変換設定と出力先フォルダを保存する設定ファイル。初回起動時に自動で作成・更新されます。
```

## 必要環境

- Python 3.9 以上
- 下記 Python パッケージ
  - PyQt6
  - Pillow
  - pillow-avif-plugin（AVIF 形式を扱うためのプラグイン）

### 依存パッケージのインストール例

```bash
python -m venv venv
source venv/bin/activate  # Windows の場合は .\venv\Scripts\activate
pip install PyQt6 Pillow pillow-avif-plugin
```

## 機能

- jpeg などの画像を webP か AVIF に変換できます。<br>
- 可逆/非可逆の切り替えや品質を指定できます。<br>
- リサイズや出力フォルダの指定など、詳細設定は GUI から調整できます。<br>
- 設定内容は自動で `image_converter_settings.json` に保存され、次回起動時に復元されます。

## 使い方

1. 仮想環境を有効化し、必要なパッケージをインストールします（上記参照）。
2. 以下のコマンドでアプリケーションを起動します。
   ```bash
   python idea2.py
   ```
3. 起動したウィンドウ上部の「ここに画像をドラッグ＆ドロップ」に変換したい画像をドラッグ＆ドロップします。<br>
   ドロップするとプレビューが表示され、変換対象のファイル名が表示されます。
4. 出力先フォルダを指定します。初回はドロップしたファイルと同じフォルダが自動で設定されますが、右側のフォルダアイコンから任意の場所に変更できます。
5. webP か AVIF の「変換」ボタンを押すと変換が実行され、完了すると完了メッセージと出力ファイルパスが表示されます。
6. 変換形式ごとの「変換設定」ボタンから、品質・リサイズ方法などを設定できます。保存した設定は次回起動時にも引き継がれます。

### ヒント

- 吐き出し先のフォルダを設定していない場合はエラーになります。必ずドロップ後に確認してください。
- Pillow もしくは AVIF プラグインがインストールされていない場合、起動時に警告が表示され変換が行えません。依存パッケージをインストールしてから再度実行してください。

設定は自動で保存されます。
